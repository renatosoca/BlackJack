(()=>{"use strict";let e=document.querySelector("#nuevo-juego"),t=document.querySelector("#pedir-carta"),r=document.querySelector("#detener"),a=document.querySelector("#judador-puntos"),l=document.querySelector("#computadora-puntos"),o=document.querySelector("#jugador-cartas"),d=document.querySelector("#computadora-cartas"),n=["C","D","H","S"],i=["A","J","Q","K"],s=[],c=[],u=(e=2)=>{s=f(),c=[];for(let n=0;n<e;n++)c=[...c,0];t.disabled=!1,r.disabled=!1,a.textContent=0,l.textContent=0,C(d),C(o)},f=()=>{s=[];for(let e=2;e<=10;e++)for(let t of n)s=[...s,e+t];for(let r of i)for(let a of n)s=[...s,r+a];return _.shuffle(s)},$=()=>{if(!s.length)throw"No hay cartas en la baraja";let e=s[0];return s=s.filter(t=>t!==e),e},h=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:+t},g=(e,t)=>{let r=document.createElement("img");r.classList.add("carta"),r.src=`./assets/img/${e}.png`,r.alt=e,t.appendChild(r)},b=()=>{let[e,t]=c;setTimeout(()=>t===e?alert("Nadie Gana"):e>21||t<=21?alert("Gano la computadora"):t>21?alert(" Gano el Jugador "):void 0,50)},p=(e,t,r)=>(c[t]+=h(e),r.textContent=c[t],c[t]),y=e=>{let t;do{let r=$();if(t=p(r,c.length-1,l),g(r,d),e>21)break}while(t<e&&e<=21);b()},C=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};return t.addEventListener("click",()=>{let e=$(),l=p(e,0,a);if(g(e,o),l>21||21===l){t.disabled=!0,r.disabled=!0,y(l);return}}),r.addEventListener("click",()=>{t.disabled=!0,r.disabled=!0,y(c[0])}),e.addEventListener("click",()=>{u()}),{newGame:e}})();